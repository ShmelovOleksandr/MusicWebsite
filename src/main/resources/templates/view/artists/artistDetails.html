<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title class="header">MusicTracker</title>
    <script defer src="/js/bundle-artistDetails.js"></script>
    <thymeleaf th:replace="~{view/fragments/meta :: meta_links}"/>
</head>
<body>
<div th:replace="~{view/fragments/header::header}"></div>

<div class="container d-flex align-items-center flex-column">
    <h3 id="title" class="mt-4">Loading...</h3>

    <div class="my-3 row border rounded-3">
        <table class="col-xxl-12 justify-content-center">
            <tbody id="detailsTable">
                <tr class="row d-table-row"><td th:utext="#{artist.details.name}" class="col-auto px-3">[Name]</td> <td id="artistNameField" class="col-auto px-3">Loading...</td></tr>
                <tr class="row d-table-row"><td th:utext="#{artist.details.birthdate}" class="col-auto px-3">[Birth date]</td> <td id="artistBirthDateField" class="col-auto px-3">Loading...</td></tr>
                <tr class="row d-table-row"><td th:utext="#{artist.details.listeners}" class="col-auto px-3">[Listeners]</td> <td id="artistListenersField" class="col-auto px-3">Loading...</td></tr>
            </tbody>
        </table>
    </div>

    <button sec:authorize="isAuthenticated()" th:if="${modificationAllowed}" id="editButton" class="btn btn-warning"><i class="bi bi-pen mr-4"></i><span th:utext="#{application.edit}">[Edit]</span></button>

    <button id="songsButton" class="btn btn-secondary mt-3">Show songs</button>
    <div id="songsTable" class="d-none">
        <h5 th:utext="#{artist.details.all-songs}" class="mt-4">[All songs]</h5>
        <table class="my-3 col-xxl-12 justify-content-center">
            <thead>
                <tr class="table100-head">
                    <th th:utext="#{artist.details.songs.name}" class="px-3">[Name]</th>
                    <th class="px-3"></th>
                </tr>
            </thead>
            <tbody id="songsTableBody">

            </tbody>
        </table>
    </div>

    <button id="toursButton" class="btn btn-secondary mt-3">Show tours</button>
    <div id="toursTable" class="d-none">
        <h5 th:utext="#{artist.details.all-tours}" class="mt-4">[All tours]</h5>
        <table class="my-3 col-xxl-12 justify-content-center" >
            <thead>
                <tr class="table100-head">
                    <th th:utext="#{artist.details.tours.location}" class="px-3">[Location]</th>
                    <th class="px-3"></th>
                </tr>
            </thead>
            <tbody id="toursTableBody">
            </tbody>
        </table>
    </div>

    <button sec:authorize="isAuthenticated()" th:if="${modificationAllowed}" id="deleteButton" class="btn btn-outline-danger mt-3"><i class="bi bi-trash3 mr-4"></i><span th:utext="#{application.delete}">[Delete]</span></button>

    <a th:href="@{/artists}" class="mt-3" th:utext="#{application.back}">[Back]</a>
</div>

</body>
</html>
